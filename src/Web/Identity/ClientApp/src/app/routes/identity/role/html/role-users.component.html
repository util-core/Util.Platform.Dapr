<page-header [autoBreadcrumb]="false" [syncTitle]="false" [title]="'identity.role.roleUsers'|i18n"></page-header>
<nz-card [nzBorderless]="true">
    
<form class="search__form" nz-form="">
    <div nz-row="" [nzGutter]="{xs: 8, sm: 16, md: 24, lg: 32, xl: 32, xxl: 32}">
        <div nz-col="" [nzMd]="6" [nzXs]="24">
            <nz-form-item><nz-form-label>{{'identity.user.userName'|i18n}}</nz-form-label><nz-form-control><input name="userName" nz-input="" [(ngModel)]="queryParam.userName" /></nz-form-control></nz-form-item>
        </div>
        <div nz-col="" [nzMd]="6" [nzXs]="24">
            <nz-form-item><nz-form-label>{{'identity.user.email'|i18n}}</nz-form-label><nz-form-control><input name="email" nz-input="" [(ngModel)]="queryParam.email" /></nz-form-control></nz-form-item>
        </div>
        <div nz-col="" [nzMd]="6" [nzXs]="24">
            <nz-form-item><nz-form-label>{{'identity.user.phoneNumber'|i18n}}</nz-form-label><nz-form-control><input name="phoneNumber" nz-input="" [(ngModel)]="queryParam.phoneNumber" /></nz-form-control></nz-form-item>
        </div>
        <div nz-col="" [nzMd]="6">
            <button #btnQuery="" (click)="query(btnQuery)" nz-button="" nzType="primary" type="button"><i nz-icon="" nzType="search"></i>{{'util.query'|i18n}}</button>
            <button #btnRefresh="" (click)="refresh(btnRefresh)" nz-button="" type="button"><i nz-icon="" nzType="sync"></i>{{'util.refresh'|i18n}}</button>
        </div>
    </div>
</form>


    <button (click)="openSelectDialog()" class="mr-sm" nz-button="" nzType="primary"><i nz-icon="" nzType="user-add"></i>{{'identity.role.addUsersToRole'|i18n}}</button>
    <button (click)="removeUsersFromRole()" nz-button="" [nzDanger]="true"><i nz-icon="" nzType="user-delete"></i>{{'identity.role.removeUsersFromRole'|i18n}}</button>
    <nz-alert class="my-md" nzType="info" [nzMessage]="t_20340455276841b6a9334c7f339d8e23" [nzShowIcon]="true"><ng-template #t_20340455276841b6a9334c7f339d8e23="">
        <span [innerHTML]="'identity.role.currentRoleName'|i18n:{roleName:data.name}"></span>
    </ng-template></nz-alert>
    <nz-table #tb_user="" #x_tb_user="xTableExtend" (nzPageIndexChange)="x_tb_user.pageIndexChange($event)" (nzPageSizeChange)="x_tb_user.pageSizeChange($event)" order="CreationTime desc" url="user" x-table-extend="" [(nzPageIndex)]="x_tb_user.queryParam.page" [(nzPageSize)]="x_tb_user.queryParam.pageSize" [(queryParam)]="queryParam" [nzData]="x_tb_user.dataSource" [nzFrontPagination]="false" [nzLoading]="x_tb_user.loading" [nzPageSizeOptions]="x_tb_user.pageSizeOptions" [nzShowQuickJumper]="true" [nzShowSizeChanger]="true" [nzShowTotal]="total_tb_user" [nzTotal]="x_tb_user.total"><thead><tr><th (nzCheckedChange)="x_tb_user.masterToggle()" [nzChecked]="x_tb_user.isMasterChecked()" [nzDisabled]="!x_tb_user.dataSource.length" [nzIndeterminate]="x_tb_user.isMasterIndeterminate()" [nzShowCheckbox]="true" [nzWidth]="x_tb_user.config.table.checkboxWidth"></th><th [nzWidth]="x_tb_user.config.table.lineNumberWidth">{{'util.lineNumber'|i18n}}</th><th>{{'identity.user.userName'|i18n}}</th><th>{{'identity.user.phoneNumber'|i18n}}</th><th>{{'identity.user.email'|i18n}}</th><th>{{'identity.user.enabled'|i18n}}</th></tr></thead><tbody><tr *ngFor="let row of x_tb_user.dataSource;index as index">
        <td (click)="$event.stopPropagation()" (nzCheckedChange)="x_tb_user.toggle(row)" [nzChecked]="x_tb_user.isChecked(row)" [nzShowCheckbox]="true"></td><td>{{row.lineNumber}}</td><td>{{row.userName}}</td>
        <td>{{row.phoneNumber}}</td>
        <td>{{row.email}}</td>
        <td>{{(row.enabled?'util.yes':'util.no')|i18n}}</td>
    </tr></tbody></nz-table><ng-template #total_tb_user="" let-range="range" let-total="">{{ 'util.tableTotalTemplate'|i18n:{start:range[0],end:range[1],total:total} }}</ng-template>
</nz-card>